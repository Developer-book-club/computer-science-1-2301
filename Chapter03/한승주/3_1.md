# 3.1 운영체제와 컴퓨터



## 3.1.1 운영체제의 역할과 구조

<aside>
💡 하드웨어와 소프트웨어 사이에서 유저 프로그램, 메모리  등을 관리

</aside>

### 운영체제의 역할

1. CPU 스케줄링과 프로세스 관리
    - CPU 소유권을 어떤 프로세스에 할당할지,프로세스의 생성과 삭제 자원할당 및 반환관리
2. 메모리관리
    - 한정된 메모리를 어떤 프로세스에 얼마큼 할당해야 하는지 관리
3. 디스크 파일 관리
    - 디스크 파일을 어떠한 방법으로 보관할지 관리
4. I/O 디바이스 관리 
    - 마우스, 키보드, 컴퓨터 간에 데이터를 주고받는 것을 관리

### 운영체제의 구조

| 유저프로그램 |
| --- |
| GUI |
| 시스템콜 |
| 커널 |
| 드라이버 |
| 하드웨어 |
- GUI : 사용자가 전자장치와 상호작용할 수 있도록 하는 사용자 인터페이스의 한 형태
    - 명령어 >>> 아이콘 클릭
- 드라이버 : 하드웨어를 제어하기 위한 소프트웨어
- CUI : 그래픽이 아닌 명령어로 처리하는 인터페이스

### 시스템콜

<aside>
💡 운영체제가 커널에 접근하기 위한 인터페이스이며 유저 프로그램이 운영체제의 서비스를 받기 위해 커널 함수를 요청할 때 사용

</aside>

- 컴퓨터 자원에 대한 직접 접근을 차단하고 프로그램을 다른 프로그램으로부터 보호
- 유저프로그램 ↔ 시스템콜 ↔ 파일시스템

**modebit**

- 시스템콜이 작동될 때 **유저 모드와 커널 모드를 구분하는 플래그 변수**
- io 디바이스가 작동하려면 유저 모드가 아닌, 커널 모드에서 **운영체제를 통해서만** 작동되어야 한다. 그렇지 않으면 공격의 위험이 있음

## 3.1.2 컴퓨터의 요소

- CPU, DMA 컨트롤러, 메모리, 타이머, 디바이스 컨트롤러 등으로 구성

### CPU

<aside>
💡 인터럽트에 의해 메모리에 존재하는 명령어를 해석해서 실행, 산술논리연산장치, 제어장치, 레지스터로 구성

</aside>

- 제어장치
    - 입출력장치 간 통신을 제어하고 명령어들을 읽고 해석하며 데이터처리를 위한 순서를 결정
- 레지스터
    - CPU 내부에 있는 매우 빠른 속도의 임시기억장치
    - CPU 와 직접 연결되어 있으므로 연산 속도가 메모리에 비해 매우 빠름
    - CPU는 자체적으로 데이터를 저장할 수 없어 레지스터를 통해 데이터를 전달
- 산술논리연산장치(ALU)
    - 덧셈, 뺄셈 같은 두 숫자의 산술 연산과 베타적 논리합, 논리곱 같은 논리 연산을 계산하는 디지털 회로

**CPU 의 연산처리 과정** 

1. 제어장치 → 메모리/레지스터 : 계산할 값을 로드
2. 제어장치 → 산술논리연산장치 : 레지스터에 있는 값을 계산
3. 제어장치 → 메모리 : 계산된 값을 레지스터나 메모리에 저장

**인터럽트**

어떤 신호가 들어왔을 때 CPU를 잠깐 정지시키는 것 

- 키보드 마우스 등 IO 디바이스로 인한 인터럽트
- 0으로 숫자를 나누는 산술 연산에서의 인터럽트 / 프로세스 오류
- 인터럽트 발생 → 인터럽트 핸들러 함수가 포함된 인터럽트 벡터에서 **인터럽트 핸들러 함수** 실행
    - 인터럽트 간 우선순위에 따라 실행
    - 하드웨어 인터럽트 : IO 디바이스로 인한 인터럽트
    - 소프트웨어 인터럽트 : 프로세스 오류 등으로 프로세스가 시스템콜을 호출하는 경우

### DMA 컨트롤러

<aside>
💡 I/O 디바이스가 메모리에 직접 접근할 수 있도록 하는 하드웨어 장치

</aside>

- CPU에만 너무 많은 인터럽트 요청이 들어올 때, CPU 부하를 막는 역할을 한다.

### 메모리

<aside>
💡 전자회로에서 데이터나 상태, 명령어 등을 기록하는 장치 (RAM)

</aside>

- CPU = 일꾼
- 메모리 = 작업장
- 메모리가 크면 클수록 **많은** 일을 **동시에** 할 수 있다.

### 타이머

- 몇 초 안에 작업이 끝나야 한다는 것을 정하고 특정 프로그램에 시간 제한을 하는 역할
- 시간이 많이 걸리는 프로그램이 작동할 때 제한을 건다

### 디바이스 컨트롤러

- 컴퓨터에 연결되어 있는 IO 디바이스들의 작은 CPU