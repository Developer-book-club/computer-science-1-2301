# 2.2 TCP/IP 4계층 모델

**인터넷 프로토콜 스위치**는 인터넷에서 컴퓨터들이 서로 정보를 주고 받는데 쓰이는 프로토콜의 집합  
💡이를 <u>TCP/IP 4계층 모델</u> 혹은 <u>OSI 7계층 모델</u>로 설명

---
## 2.2.1 계층 구조
▼TCP / IP 4계층 모델과 OSI 7계층 비교 

![](https://velog.velcdn.com/images/wlsgml4563/post/09e2abeb-91fb-45e4-9716-34a4a3a77ae8/image.png)

### ✅애플리케이션 계층  
응용 프로그램이 사용되는 프로토콜 계층(ex. FTP, HTTP, SSH, DNS 등)  
- 웹 서비스, 이메일 등 서비스를 실질적으로 사람들에게 제공하는 층  
>**FTP** : 장치와 장치 간의 파일을 전송하는 데 사용되는 표준 통신 프로토콜  
>**SSH** : 보안되지 않은 네트워크에서 네트워크 서비스를 안전하게 운영하기 위한 암호화 네트워크 프로토콜  
>**HTTP** : World Wide Web을 위한 데이터 통신의 기초이자 웹 사이트를 이용하는 데 쓰는 프로토콜   
>**SMTP** : 전자 메일 전송을 위한 인터넷 표준 통신 프로토콜  
>**DNS** : 도메인 이름과 IP 주소를 매핑해주는 서버  

### ✅전송 계층
송신자와 수신자를 연결하는 통신 서비스를 제공하여 연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어를 제공한다.  
- 애플리케이션과 인터넷 계층 사이의 데이터가 전달될 때 중계 역할
- 종류  
  - **TCP** : 패킷 사이의 순서를 보장하고 연결지향 프로토콜을 사용해서 신뢰성을 구축하며 수신 여부를 확인하는 **'가상회선 패킷 교환 방식'** 사용  
  	>**가상회선 패킷 교환 방식**  
  	>각 패킷에는 가상회선 식별자가 포함되며 모든 패킷을 전송하면 가상회선이 해제되고 패킷들은 전송된 **순서대로** 도착하는 방식이다.
  - **UDP** : 순서를 보장하지 않고 수신 여부를 확인하지 않으며 단순히 데이터만 주는 **'데이터그램 패킷 교환 방식'** 사용  
  	>**데이터그램 패킷 교환 방식**  
  	>패킷이 독립적으로 이동하며 최적의 경로를 선택하여 가는데, 여러 패킷은 서로 다른 경로로 전송될 수 있으며 도착한 **순서가 다를 수 있는** 방식이다.
  - **TCP 와 UDP 차이점**  
  	**TCP 는 연결 성립 과정 '3-웨이 핸드쉐이크 과정'** 있는 <U>신뢰성이 있는 계층</U> 이라고 불린다.  
  	또한 TCP 연결을 해제할 때 **'4-웨이 핸드쉐이크 과정'**이 발생한다.  
  	UDP는 이 과정이 없어 <U>신뢰성이 없는 계층</U>이라고 한다.  


### ✅인터넷 계층  
장치로부터 받은 네트워크 패킷을 IP 주소로 지정된 목적지로 전송하기 위해 사용되는 계층(ex. IP, ARP, ICMP 등)  
- 패킷을 수신해야 할 상대의 주소를 지정하여 데이터를 전달  
- 상대방이 제대로 받았는지에 대해 보장하지 않는 비연결형적인 특징  

### ✅링크 계층 (= 네트워크 접근 계층)  

실질적으로 데이터를 전달하며 장치 간에 신호를 주고받은 '규칙'을 정하는 계층(ex.전선, 광섬유, 무선 등)

- 종류
	
    - **물리계층** <U>무선 LAN </U>과 <U>유선 LAN</U>을 통해 0과 1로 이루어진 데이터를 보내는 계층
      >**유선 LAN**  
      >💡전이중화 통신  
      >양쪽  장치(송신로 / 수신로)가 동시에 송수신할 수 있는 방식  
    
      >**무선 LAN**  
      >💡반이중화 통신  
      >양쪽 장치는 서로 통신할 수 있지만, 동시에는 통신할 수 없으며 한 번에 한 방양만 통신할 수 있는 방식
   
    
    - **데이처 링크 계층** <U>이더넷 프레임</U> 을 통해 에러 확인, 흐름 제어, 접근 제어를 담당하는 계층
       > **이더넷 프레임**  
       > 데이터 링크 계층은 이더넷 프레임을 통해 전달받음 데이터의 에러를 검출하고 캡슐화한다.

---
## 2.2.2 계층 간 데이터 송수신 과정
> ### 캡슐화 과정   
> 상위 계층의 헤더와 데이터를 하위 계층의 데이터 부분에 포함시키고 해당 계층의 헤더를 삽입하는 과정


> ### 비캡슐화 과정  
> 하위계층에서 상위 계층으로 가며 각 계층의 헤더 부분을 제거하는 과정

✔️**PDU**
 제어 관련 정보들이 포함된 **헤더** + 데이터를 의미하는 **페이로드**  
 => 네트워크의 어떠한 계층에서 계층으로 데이터가 전달될 때 한 덩어리의 단위


